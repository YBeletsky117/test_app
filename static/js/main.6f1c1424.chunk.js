(this.webpackJsonptest_app=this.webpackJsonptest_app||[]).push([[0],{79:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),s=n(16),i=n.n(s),o=n(17),l=n(33),d=n(6),u=n(91),j=n(90),b=n(92),m=n(21),O=n.n(m),h=n(24);!function(e){e.STATE_LOAD="USERS :: STATE LOAD",e.WRITE_TO_STORE_USERS="USERS :: WRITE TO STORE USERS",e.DELETE_USER="USERS :: DELETE USER",e.ADD_USER="USERS :: ADD USER"}(a||(a={}));var p,f=a,x="https://randomuser.me/api/",v=n(44),g=n.n(v),N=function(){var e=Object(h.a)(O.a.mark((function e(){var t,n,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(x,{headers:{"Access-Control-Allow-Origin":"*"},params:{results:15}});case 2:return t=e.sent,n=t.data,a=t.status,c=t.statusText,e.abrupt("return",{data:n,status:a,statusText:c});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E={writeUsersToStore:function(e){return{type:f.WRITE_TO_STORE_USERS,data:e}},stateLoadingUsers:function(e){return{type:f.STATE_LOAD,data:e}},getUsersAction:function(){return function(){var e=Object(h.a)(O.a.mark((function e(t){var n,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E.stateLoadingUsers(!1)),e.prev=1,e.next=4,N();case 4:n=e.sent,a=n.data.results.map((function(e,t){var n=e.name,a=e.picture,c=e.location,r=e.email,s=e.phone,i=e.registered;return{firstName:n.first,lastName:n.last,location:{country:c.country,city:c.city},email:r,phone:s,registered:new Date(i.date).toLocaleDateString(),icon:a.large,id:+Date.now().toString()+t}})),t(E.writeUsersToStore(a)),t(E.stateLoadingUsers(!0)),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),c=e.t0.errorMessage,t(E.stateLoadingUsers(!0)),e.abrupt("return",console.error(c));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},deleteUser:function(e){return{type:f.DELETE_USER,data:e}},addUser:function(e){return{type:f.ADD_USER,data:e}}},S=function(e){return e.users},y={users:[],isLoaded:!1},T=E.getUsersAction,U=E.deleteUser,D=E.addUser,R=n(12),L=(n(79),n(80),n(1)),C=function(){return Object(L.jsxs)("div",{className:"lds-ellipsis",children:[Object(L.jsx)("div",{}),Object(L.jsx)("div",{}),Object(L.jsx)("div",{}),Object(L.jsx)("div",{})]})},_=n(20),A=n(32),w=n(46),k=n.n(w),F=n(47),I=n(4),M=n(2),P=(p={},Object(I.a)(p,f.STATE_LOAD,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoaded:t})})),Object(I.a)(p,f.WRITE_TO_STORE_USERS,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{users:t})})),Object(I.a)(p,f.ADD_USER,(function(e,t){var n;return Object(M.a)(Object(M.a)({},e),{},{users:null===(n=e.users)||void 0===n?void 0:n.concat([t])})})),Object(I.a)(p,f.DELETE_USER,(function(e,t){var n;return Object(M.a)(Object(M.a)({},e),{},{users:null===(n=e.users)||void 0===n?void 0:n.filter((function(e){return e.id!==t}))})})),Object(I.a)(p,"DEF",(function(e){return e})),p),W=Object(_.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;return(P[t.type]||P.DEF)(e,t.data)}}),B=[k.a,A.a],q=_.applyMiddleware.apply(void 0,B),J=(Object(F.composeWithDevTools)(q),Object(_.createStore)(W,Object(_.applyMiddleware)(A.a)));var z=n(89),G=function(){var e=Object(o.b)(),t=Object(c.useState)(J.getState().users.users),n=Object(R.a)(t,2),a=n[0],r=n[1],s=function(e,t){var n;return function(){for(var a=this,c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];clearTimeout(n),n=setTimeout((function(){e.apply(a,r)}),t)}}((function(e){var t,n=e.target.value,a=(t=2,n.split(" ").filter((function(e){return""!==e})).slice(0,t));r(0!==n.length?d.filter((function(e){var t=e.firstName,n=e.lastName;return t.includes(a[0])||t.includes(a[1])||n.includes(a[0])||n.includes(a[1])})):d)}),1e3),i=function(t){return e(U(+t.target.id))},l=Object(o.c)(S),d=l.users,u=l.isLoaded;return Object(c.useEffect)((function(){r(d)}),[d]),Object(c.useEffect)((function(){0===(null===d||void 0===d?void 0:d.length)&&e(T())}),[]),Object(L.jsxs)("div",{className:"container",children:[Object(L.jsxs)("div",{className:"d-flex p-4",children:[Object(L.jsx)("input",{className:"form-control me-3",id:"search",itemID:"search",type:"search","aria-label":"Search",onChange:s}),Object(L.jsx)("button",{className:"btn btn-outline-secondary",type:"reset",onClick:function(){document.getElementById("search").value="",r(d)},children:"Reset"})]}),Object(L.jsx)("div",{className:"content",children:u?0===a.length?Object(L.jsx)("h5",{className:"text-center pt-4",children:"No data available"}):Object(L.jsxs)(z.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(L.jsx)("thead",{children:Object(L.jsx)("tr",{children:["\u2116","First","Last","Picture","Location","e-mail","Phone","Registred Date","Delete"].map((function(e,t){return Object(L.jsx)("th",{scope:"col",children:e},t)}))})}),Object(L.jsx)("tbody",{children:a.map((function(e,t){var n,a;return Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{scope:"row",children:t++}),Object(L.jsx)("td",{children:e.firstName}),Object(L.jsx)("td",{children:e.lastName}),Object(L.jsx)("td",{children:e.icon?Object(L.jsx)("img",{className:"user-icon",src:null===e||void 0===e?void 0:e.icon,alt:"Icon by ".concat(e.firstName," ").concat(e.lastName)}):Object(L.jsx)("p",{children:"No icon"})}),Object(L.jsx)("td",{children:e.location?Object(L.jsxs)("p",{children:[null!==(n=e.location.country)&&void 0!==n?n:null,e.location.city&&e.location.country&&", ",null!==(a=e.location.city)&&void 0!==a?a:null]}):null}),Object(L.jsx)("td",{children:null===e||void 0===e?void 0:e.email}),Object(L.jsx)("td",{children:null===e||void 0===e?void 0:e.phone}),Object(L.jsx)("td",{children:e.registered}),Object(L.jsx)("td",{children:Object(L.jsx)("button",{id:e.id.toString(),onClick:i,type:"button",className:"btn btn-outline-danger",children:"\ud800\udd02"})})]},t)}))})]}):Object(L.jsx)("div",{className:"center",children:Object(L.jsx)(C,{})})})]})},H=(n(82),function(){var e=Object(c.useState)({}),t=Object(R.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("def"),s=Object(R.a)(r,2),i=s[0],l=s[1],d=Object(o.b)(),u=Object(o.c)(S).users,j=function(e){var t=e.target,c=t.id,r=t.value;c.includes("location")?(c=c.substring(9,20).trim(),a(Object(M.a)(Object(M.a)({},n),{},{location:Object(M.a)(Object(M.a)({},n.location),{},Object(I.a)({},c,r))}))):a(Object(M.a)(Object(M.a)({},n),{},Object(I.a)({},c,r)))};function b(e){e.preventDefault();try{return d(D(n)),l("good"),setTimeout((function(){l("def")}),2e3)}catch(t){return l("err"),setTimeout((function(){return l("def")}),2e3)}}return Object(c.useEffect)((function(){a(Object(M.a)(Object(M.a)({},n),{},{registered:(new Date).toLocaleDateString(),id:+Date.now().toString()+u.length}))}),[]),Object(L.jsx)("div",{className:"p-5",children:Object(L.jsxs)("form",{className:"row g-3 needs-validation",onSubmit:b,children:[Object(L.jsxs)("div",{className:"col-md-3",children:[Object(L.jsx)("label",{htmlFor:"validationCustom01",className:"form-label",children:"First name"}),Object(L.jsx)("input",{type:"text",className:"form-control",id:"firstName",onChange:j,required:!0}),Object(L.jsx)("div",{className:"valid-feedback"})]}),Object(L.jsxs)("div",{className:"col-md-3",children:[Object(L.jsx)("label",{htmlFor:"validationCustom02",className:"form-label",children:"Last name"}),Object(L.jsx)("input",{type:"text",className:"form-control",id:"lastName",onChange:j,required:!0}),Object(L.jsx)("div",{className:"valid-feedback"})]}),Object(L.jsxs)("div",{className:"col-md-3",children:[Object(L.jsx)("label",{htmlFor:"validationCustomUsername",className:"form-label",children:"Location (Country)"}),Object(L.jsx)("input",{type:"text",className:"form-control",id:"location-country",onChange:j})]}),Object(L.jsxs)("div",{className:"col-md-3",children:[Object(L.jsx)("label",{htmlFor:"validationCustomUsername",className:"form-label",children:"Location (City)"}),Object(L.jsx)("input",{type:"text",className:"form-control",id:"location-city",onChange:j})]}),Object(L.jsxs)("div",{className:"col-md-3",children:[Object(L.jsx)("label",{htmlFor:"validationCustom03",className:"form-label",children:"Phone"}),Object(L.jsx)("input",{inputMode:"tel",type:"tel",className:"form-control",id:"phone",onChange:j})]}),Object(L.jsxs)("div",{className:"col-md-3",children:[Object(L.jsx)("label",{htmlFor:"validationCustom03",className:"form-label",children:"E-Mail"}),Object(L.jsx)("input",{type:"email",className:"form-control",id:"email",onChange:j})]}),Object(L.jsxs)("div",{className:"col-md-3",children:[Object(L.jsx)("label",{htmlFor:"validationCustom05",className:"form-label",children:"Picture link"}),Object(L.jsx)("input",{type:"text",className:"form-control",id:"icon",onChange:j})]}),Object(L.jsx)("div",{className:"col-12",children:Object(L.jsx)("button",{className:"btn btn-".concat("good"===i?"success":"err"===i?"danger":"primary"),onSubmit:b,type:"submit",children:"Add User"})})]})})}),K=function(){var e=Object(o.b)(),t=[{path:"/",label:"Main",component:G},{path:"/addUser",label:"Add User",component:H}];return Object(c.useEffect)((function(){e(T())}),[e]),console.log(document.location.pathname),Object(L.jsxs)(l.a,{basename:"/test_app/",children:[Object(L.jsx)(u.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)(u.a.Brand,{children:"APP"}),Object(L.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(L.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(L.jsx)(b.a,{className:"me-auto",children:t.map((function(e,t){return Object(L.jsx)(l.b,{key:t.toString(),className:"nav-link",id:e.path,to:e.path,children:e.label})}))})})]})}),Object(L.jsx)(d.c,{children:t.map((function(e,t){var n=e.path,a=e.component;return Object(L.jsx)(d.a,{exact:!0,key:t,path:n,component:a})}))})]})};n(86);i.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(o.a,{store:J,children:Object(L.jsx)(K,{})})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.6f1c1424.chunk.js.map