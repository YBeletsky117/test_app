(this.webpackJsonptest_app=this.webpackJsonptest_app||[]).push([[0],{79:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),s=n(16),i=n.n(s),o=n(17),l=n(33),d=n(6),u=n(91),j=n(90),b=n(92),m=n(21),O=n.n(m),h=n(24);!function(e){e.STATE_LOAD="USERS :: STATE LOAD",e.WRITE_TO_STORE_USERS="USERS :: WRITE TO STORE USERS",e.DELETE_USER="USERS :: DELETE USER",e.ADD_USER="USERS :: ADD USER"}(c||(c={}));var f,p=c,x="https://randomuser.me/api/",v=n(44),g=n.n(v),N=function(){var e=Object(h.a)(O.a.mark((function e(){var t,n,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(x,{headers:{"Access-Control-Allow-Origin":"*"},params:{results:15}});case 2:return t=e.sent,n=t.data,c=t.status,a=t.statusText,e.abrupt("return",{data:n,status:c,statusText:a});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E={writeUsersToStore:function(e){return{type:p.WRITE_TO_STORE_USERS,data:e}},stateLoadingUsers:function(e){return{type:p.STATE_LOAD,data:e}},getUsersAction:function(){return function(){var e=Object(h.a)(O.a.mark((function e(t){var n,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E.stateLoadingUsers(!1)),e.prev=1,e.next=4,N();case 4:n=e.sent,c=n.data.results.map((function(e,t){var n=e.name,c=e.picture,a=e.location,r=e.email,s=e.phone,i=e.registered;return{firstName:n.first,lastName:n.last,location:{country:a.country,city:a.city},email:r,phone:s,registered:new Date(i.date).toLocaleDateString(),icon:c.large,id:+Date.now().toString()+t}})),t(E.writeUsersToStore(c)),t(E.stateLoadingUsers(!0)),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),a=e.t0.errorMessage,t(E.stateLoadingUsers(!0)),e.abrupt("return",console.error(a));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},deleteUser:function(e){return{type:p.DELETE_USER,data:e}},addUser:function(e){return{type:p.ADD_USER,data:e}}},S=function(e){return e.users},y={users:[],isLoaded:!1},T=E.getUsersAction,U=E.deleteUser,D=E.addUser,R=n(12),C=(n(79),n(80),n(1)),L=function(){return Object(C.jsxs)("div",{className:"lds-ellipsis",children:[Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{})]})},A=n(20),_=n(32),k=n(46),w=n.n(k),F=n(47),I=n(4),M=n(2),P=(f={},Object(I.a)(f,p.STATE_LOAD,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoaded:t})})),Object(I.a)(f,p.WRITE_TO_STORE_USERS,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{users:t})})),Object(I.a)(f,p.ADD_USER,(function(e,t){var n;return Object(M.a)(Object(M.a)({},e),{},{users:null===(n=e.users)||void 0===n?void 0:n.concat([t])})})),Object(I.a)(f,p.DELETE_USER,(function(e,t){var n;return Object(M.a)(Object(M.a)({},e),{},{users:null===(n=e.users)||void 0===n?void 0:n.filter((function(e){return e.id!==t}))})})),Object(I.a)(f,"DEF",(function(e){return e})),f),W=Object(A.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;return(P[t.type]||P.DEF)(e,t.data)}}),B=[w.a,_.a],q=A.applyMiddleware.apply(void 0,B),J=Object(F.composeWithDevTools)(q),z=Object(A.createStore)(W,J);var G=n(89),H=function(){var e=Object(o.b)(),t=Object(a.useState)(z.getState().users.users),n=Object(R.a)(t,2),c=n[0],r=n[1],s=function(e,t){var n;return function(){for(var c=this,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];clearTimeout(n),n=setTimeout((function(){e.apply(c,r)}),t)}}((function(e){var t,n=e.target.value,c=(t=2,n.split(" ").filter((function(e){return""!==e})).slice(0,t));r(0!==n.length?d.filter((function(e){var t=e.firstName,n=e.lastName;return t.includes(c[0])||t.includes(c[1])||n.includes(c[0])||n.includes(c[1])})):d)}),1e3),i=function(t){return e(U(+t.target.id))},l=Object(o.c)(S),d=l.users,u=l.isLoaded;return Object(a.useEffect)((function(){r(d)}),[d]),Object(a.useEffect)((function(){0===(null===d||void 0===d?void 0:d.length)&&e(T())}),[]),Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)("div",{className:"d-flex p-4",children:[Object(C.jsx)("input",{className:"form-control me-3",id:"search",itemID:"search",type:"search","aria-label":"Search",onChange:s}),Object(C.jsx)("button",{className:"btn btn-outline-secondary",type:"reset",onClick:function(){document.getElementById("search").value="",r(d)},children:"Reset"})]}),Object(C.jsx)("div",{className:"content",children:u?0===c.length?Object(C.jsx)("h5",{className:"text-center pt-4",children:"No data available"}):Object(C.jsxs)(G.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:["\u2116","First","Last","Picture","Location","e-mail","Phone","Registred Date","Delete"].map((function(e,t){return Object(C.jsx)("th",{scope:"col",children:e},t)}))})}),Object(C.jsx)("tbody",{children:c.map((function(e,t){var n,c;return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t++}),Object(C.jsx)("td",{children:e.firstName}),Object(C.jsx)("td",{children:e.lastName}),Object(C.jsx)("td",{children:e.icon?Object(C.jsx)("img",{className:"user-icon",src:null===e||void 0===e?void 0:e.icon,alt:"Icon by ".concat(e.firstName," ").concat(e.lastName)}):Object(C.jsx)("p",{children:"No icon"})}),Object(C.jsx)("td",{children:e.location?Object(C.jsxs)("p",{children:[null!==(n=e.location.country)&&void 0!==n?n:null,e.location.city&&e.location.country&&", ",null!==(c=e.location.city)&&void 0!==c?c:null]}):null}),Object(C.jsx)("td",{children:null===e||void 0===e?void 0:e.email}),Object(C.jsx)("td",{children:null===e||void 0===e?void 0:e.phone}),Object(C.jsx)("td",{children:e.registered}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{id:e.id.toString(),onClick:i,type:"button",className:"btn btn-outline-danger",children:"\ud800\udd02"})})]},t)}))})]}):Object(C.jsx)("div",{className:"center",children:Object(C.jsx)(L,{})})})]})},K=(n(82),function(){var e=Object(a.useState)({}),t=Object(R.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("def"),s=Object(R.a)(r,2),i=s[0],l=s[1],d=Object(o.b)(),u=Object(o.c)(S).users,j=function(e){var t=e.target,a=t.id,r=t.value;a.includes("location")?(a=a.substring(9,20).trim(),c(Object(M.a)(Object(M.a)({},n),{},{location:Object(M.a)(Object(M.a)({},n.location),{},Object(I.a)({},a,r))}))):c(Object(M.a)(Object(M.a)({},n),{},Object(I.a)({},a,r)))};function b(e){e.preventDefault();try{return d(D(n)),l("good"),setTimeout((function(){l("def")}),2e3)}catch(t){return l("err"),setTimeout((function(){return l("def")}),2e3)}}return Object(a.useEffect)((function(){c(Object(M.a)(Object(M.a)({},n),{},{registered:(new Date).toLocaleDateString(),id:+Date.now().toString()+u.length}))}),[]),Object(C.jsx)("div",{className:"p-5",children:Object(C.jsxs)("form",{className:"row g-3 needs-validation",onSubmit:b,children:[Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{htmlFor:"validationCustom01",className:"form-label",children:"First name"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"firstName",onChange:j,required:!0}),Object(C.jsx)("div",{className:"valid-feedback"})]}),Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{htmlFor:"validationCustom02",className:"form-label",children:"Last name"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"lastName",onChange:j,required:!0}),Object(C.jsx)("div",{className:"valid-feedback"})]}),Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{htmlFor:"validationCustomUsername",className:"form-label",children:"Location (Country)"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"location-country",onChange:j})]}),Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{htmlFor:"validationCustomUsername",className:"form-label",children:"Location (City)"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"location-city",onChange:j})]}),Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{htmlFor:"validationCustom03",className:"form-label",children:"Phone"}),Object(C.jsx)("input",{inputMode:"tel",type:"tel",className:"form-control",id:"phone",onChange:j})]}),Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{htmlFor:"validationCustom03",className:"form-label",children:"E-Mail"}),Object(C.jsx)("input",{type:"email",className:"form-control",id:"email",onChange:j})]}),Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{htmlFor:"validationCustom05",className:"form-label",children:"Picture link"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"icon",onChange:j})]}),Object(C.jsx)("div",{className:"col-12",children:Object(C.jsx)("button",{className:"btn btn-".concat("good"===i?"success":"err"===i?"danger":"primary"),onSubmit:b,type:"submit",children:"Add User"})})]})})}),Q=function(){var e=Object(a.useRef)(document.location.pathname),t=Object(o.b)(),n=function(t){e.current=t.target.id},c=[{path:"/main",label:"Main",Component:H},{path:"/addUser",label:"Add User",Component:K}];return Object(a.useEffect)((function(){t(T())}),[t]),Object(C.jsxs)(l.a,{children:[Object(C.jsx)(u.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(C.jsxs)(j.a,{children:[Object(C.jsx)(u.a.Brand,{href:"/main",children:"APP"}),Object(C.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(C.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(C.jsx)(b.a,{className:"me-auto",children:c.map((function(t,c){return Object(C.jsx)(l.b,{key:c.toString(),className:"nav-link ".concat(e.current===t.path&&"active"),id:t.path,to:t.path,children:t.label,onClick:n})}))})})]})}),Object(C.jsx)(d.c,{children:c.map((function(e,t){var n=e.path,c=e.Component;return Object(C.jsx)(d.a,{key:t,path:n,children:Object(C.jsx)(c,{})})}))})]})};n(86);i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(o.a,{store:z,children:Object(C.jsx)(Q,{})})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.b50eeedb.chunk.js.map