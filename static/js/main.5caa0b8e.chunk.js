(this.webpackJsonptest_app=this.webpackJsonptest_app||[]).push([[0],{64:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n,c=a(0),s=a.n(c),r=a(17),i=a.n(r),l=a(14),o=a(11),d=a(3),j=a(24),u=a(15),b=a.n(u),m=a(19);!function(e){e.STATE_LOAD="USERS :: STATE LOAD",e.WRITE_TO_STORE_USERS="USERS :: WRITE TO STORE USERS",e.DELETE_USER="USERS :: DELETE USER",e.ADD_USER="USERS :: ADD USER"}(n||(n={}));var O,h=n,p="https://randomuser.me/api/",v=a(34),x=a.n(v),f=function(){var e=Object(m.a)(b.a.mark((function e(){var t,a,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(p,{headers:{"Access-Control-Allow-Origin":"*"},params:{results:15}});case 2:return t=e.sent,a=t.data,n=t.status,c=t.statusText,e.abrupt("return",{data:a,status:n,statusText:c});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N={writeUsersToStore:function(e){return{type:h.WRITE_TO_STORE_USERS,data:e}},stateLoadingUsers:function(e){return{type:h.STATE_LOAD,data:e}},getUsersAction:function(){return function(){var e=Object(m.a)(b.a.mark((function e(t){var a,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N.stateLoadingUsers(!1)),e.prev=1,e.next=4,f();case 4:a=e.sent,n=a.data.results.map((function(e,t){var a=e.name,n=e.picture,c=e.location,s=e.email,r=e.phone,i=e.registered;return{firstName:a.first,lastName:a.last,location:{country:c.country,city:c.city},email:s,phone:r,registered:new Date(i.date).toLocaleDateString(),icon:n.large,id:+Date.now().toString()+t}})),t(N.writeUsersToStore(n)),t(N.stateLoadingUsers(!0)),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),c=e.t0.errorMessage,t(N.stateLoadingUsers(!0)),e.abrupt("return",console.error(c));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},deleteUser:function(e){return{type:h.DELETE_USER,data:e}},addUser:function(e){return{type:h.ADD_USER,data:e}}},g=function(e){return e.users},S={users:[],isLoaded:!1},E=N.getUsersAction,y=N.deleteUser,U=N.addUser,T=(a(64),a(65),a(1)),D=function(){return Object(T.jsxs)("div",{className:"lds-ellipsis",children:[Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{})]})},C=a(12),R=a(22),L=a(35),A=a.n(L),_=a(36),w=a(10),k=a(4),F=(O={},Object(w.a)(O,h.STATE_LOAD,(function(e,t){return Object(k.a)(Object(k.a)({},e),{},{isLoaded:t})})),Object(w.a)(O,h.WRITE_TO_STORE_USERS,(function(e,t){return Object(k.a)(Object(k.a)({},e),{},{users:t})})),Object(w.a)(O,h.ADD_USER,(function(e,t){var a;return Object(k.a)(Object(k.a)({},e),{},{users:null===(a=e.users)||void 0===a?void 0:a.concat([t])})})),Object(w.a)(O,h.DELETE_USER,(function(e,t){var a;return Object(k.a)(Object(k.a)({},e),{},{users:null===(a=e.users)||void 0===a?void 0:a.filter((function(e){return e.id!==t}))})})),Object(w.a)(O,"DEF",(function(e){return e})),O),I=Object(C.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return(F[t.type]||F.DEF)(e,t.data)}}),M=[A.a,R.a],W=C.applyMiddleware.apply(void 0,M),P=(Object(_.composeWithDevTools)(W),Object(C.createStore)(I,Object(C.applyMiddleware)(R.a)));var q=function(){var e=Object(o.b)(),t=Object(c.useState)(P.getState().users.users),a=Object(l.a)(t,2),n=a[0],s=a[1],r=function(e,t){var a;return function(){for(var n=this,c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];clearTimeout(a),a=setTimeout((function(){e.apply(n,s)}),t)}}((function(e){var t,a=e.target.value,n=(t=2,a.split(" ").filter((function(e){return""!==e})).slice(0,t));s(0!==a.length?j.filter((function(e){var t=e.firstName,a=e.lastName;return t.includes(n[0])||t.includes(n[1])||a.includes(n[0])||a.includes(n[1])})):j)}),1e3),i=function(t){return e(y(+t.target.id))},d=Object(o.c)(g),j=d.users,u=d.isLoaded;return Object(c.useEffect)((function(){s(j)}),[j]),Object(T.jsxs)("div",{className:"container",children:[Object(T.jsxs)("div",{className:"d-flex p-4",children:[Object(T.jsx)("input",{className:"form-control me-3",id:"search",itemID:"search",type:"search","aria-label":"Search",onChange:r}),Object(T.jsx)("button",{className:"btn btn-outline-secondary",type:"reset",onClick:function(){document.getElementById("search").value="",s(j)},children:"Reset"})]}),Object(T.jsx)("div",{className:"content",children:u?0===n.length?Object(T.jsx)("h5",{className:"text-center pt-4",children:"No data available"}):Object(T.jsxs)("table",{className:"table table-striped",children:[Object(T.jsx)("thead",{children:Object(T.jsx)("tr",{children:["\u2116","First","Last","Picture","Location","e-mail","Phone","Registred Date","Delete"].map((function(e,t){return Object(T.jsx)("th",{scope:"col",children:e},t)}))})}),Object(T.jsx)("tbody",{children:n.map((function(e,t){var a,n;return Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{scope:"row",children:t++}),Object(T.jsx)("td",{children:e.firstName}),Object(T.jsx)("td",{children:e.lastName}),Object(T.jsx)("td",{children:e.icon?Object(T.jsx)("img",{className:"user-icon",src:null===e||void 0===e?void 0:e.icon,alt:"Icon by ".concat(e.firstName," ").concat(e.lastName)}):Object(T.jsx)("p",{children:"No icon"})}),Object(T.jsx)("td",{children:e.location?Object(T.jsxs)("p",{children:[null!==(a=e.location.country)&&void 0!==a?a:null,e.location.city&&e.location.country&&", ",null!==(n=e.location.city)&&void 0!==n?n:null]}):null}),Object(T.jsx)("td",{children:null===e||void 0===e?void 0:e.email}),Object(T.jsx)("td",{children:null===e||void 0===e?void 0:e.phone}),Object(T.jsx)("td",{children:e.registered}),Object(T.jsx)("td",{children:Object(T.jsx)("button",{id:e.id.toString(),onClick:i,type:"button",className:"btn btn-outline-danger",children:"\ud800\udd02"})})]},t)}))})]}):Object(T.jsx)("div",{className:"center",children:Object(T.jsx)(D,{})})})]})},B=(a(67),function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(o.b)(),r=Object(o.c)(g).users,i=function(e){var t=e.target,c=t.id,s=t.value;c.includes("location")?(c=c.substring(9,20).trim(),n(Object(k.a)(Object(k.a)({},a),{},{location:Object(k.a)(Object(k.a)({},a.location),{},Object(w.a)({},c,s))}))):n(Object(k.a)(Object(k.a)({},a),{},Object(w.a)({},c,s)))};function d(e){e.preventDefault(),s(U(a))}return Object(c.useEffect)((function(){n(Object(k.a)(Object(k.a)({},a),{},{registered:(new Date).toLocaleDateString(),id:+Date.now().toString()+r.length}))}),[]),Object(T.jsx)("div",{className:"p-5",children:Object(T.jsxs)("form",{className:"row g-3 needs-validation",onSubmit:d,children:[Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("label",{htmlFor:"validationCustom01",className:"form-label",children:"First name"}),Object(T.jsx)("input",{type:"text",className:"form-control",id:"firstName",onChange:i,required:!0}),Object(T.jsx)("div",{className:"valid-feedback"})]}),Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("label",{htmlFor:"validationCustom02",className:"form-label",children:"Last name"}),Object(T.jsx)("input",{type:"text",className:"form-control",id:"lastName",onChange:i,required:!0}),Object(T.jsx)("div",{className:"valid-feedback"})]}),Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("label",{htmlFor:"validationCustomUsername",className:"form-label",children:"Location (Country)"}),Object(T.jsx)("input",{type:"text",className:"form-control",id:"location-country",onChange:i})]}),Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("label",{htmlFor:"validationCustomUsername",className:"form-label",children:"Location (City)"}),Object(T.jsx)("input",{type:"text",className:"form-control",id:"location-city",onChange:i})]}),Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("label",{htmlFor:"validationCustom03",className:"form-label",children:"Phone"}),Object(T.jsx)("input",{inputMode:"tel",type:"tel",className:"form-control",id:"phone",onChange:i})]}),Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("label",{htmlFor:"validationCustom03",className:"form-label",children:"E-Mail"}),Object(T.jsx)("input",{type:"email",className:"form-control",id:"email",onChange:i})]}),Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("label",{htmlFor:"validationCustom05",className:"form-label",children:"Picture link"}),Object(T.jsx)("input",{type:"text",className:"form-control",id:"icon",onChange:i})]}),Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("button",{className:"btn btn-outline-primary",onSubmit:d,type:"submit",children:"Add User"})})]})})}),J=(a(68),function(){var e=Object(c.useState)(document.location.pathname),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(o.b)(),r=Object(d.f)(),i=function(e){n(e.target.id)},u=[{path:"/main",label:"Main",Component:q},{path:"/addUser",label:"Add User",Component:B}];return Object(c.useEffect)((function(){s(E())}),[]),document.location.pathname===u[0].path&&r.push("/login"),Object(T.jsx)("div",{className:"container-ext",children:Object(T.jsx)(j.a,{children:Object(T.jsxs)("div",{className:"router",children:[Object(T.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light",children:Object(T.jsxs)("div",{className:"container-xxl",children:[Object(T.jsx)("a",{className:"navbar-brand",href:"/main",children:"App"}),Object(T.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false",children:Object(T.jsx)("span",{className:"navbar-toggler-icon"})}),Object(T.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(T.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:u.map((function(e,t){return Object(T.jsx)("li",{className:"nav-item",children:Object(T.jsx)(j.b,{className:"nav-link ".concat(a===e.path&&"active"),id:e.path,to:e.path,children:e.label,onClick:i})},t)}))})})]})}),Object(T.jsx)(d.c,{children:u.map((function(e,t){var a=e.path,n=e.Component;return Object(T.jsx)(d.a,{key:t,path:a,children:Object(T.jsx)(n,{})})}))})]})})})});a(70);i.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(o.a,{store:P,children:Object(T.jsx)(J,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.5caa0b8e.chunk.js.map